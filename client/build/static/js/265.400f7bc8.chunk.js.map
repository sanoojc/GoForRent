{"version":3,"file":"static/js/265.400f7bc8.chunk.js","mappings":"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","sources":["components/Modal/EditProfileModal.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport { motion, AnimatePresence } from 'framer-motion'\nimport { Upload } from '@mui/icons-material'\nimport BackdropLoader from '../Backdrop/Backdrop'\nimport axios from 'axios'\nimport { editUser } from '../../Api/UserApi'\nimport { useDispatch } from 'react-redux'\n\nfunction EditProfileModal({ user, close }) {\n    const dispatch=useDispatch()\n    const [open, setOpen] = useState(false)\n    const [name, setName] = useState(user.details.name)\n    const [profile, setProfile] = useState('')\n    const fileInputRef = useRef(null)\n    const presetKey = process.env.REACT_APP_Preset_KEY\n    const cloudName = process.env.REACT_APP_Cloud_Name\n    useEffect(() => {\n        document.addEventListener(\"keydown\", handleKeyPress)\n    })\n    const handleKeyPress = (e) => {\n        if (e.key === \"Escape\") {\n            close()\n        }\n    }\n    const handleImageChange = () => {\n        fileInputRef.current.click()\n    }\n\n    const UploadData = async (e) => {\n        e.preventDefault()\n        setOpen(true)\n        if(profile){\n            const file = profile\n            const formData = new FormData()\n            formData.append(\"file\", file)\n            formData.append(\"upload_preset\", presetKey)\n            formData.append(\"cloud_name\", cloudName)\n            const profileImg = await axios.post(\n                `https://api.cloudinary.com/v1_1/${cloudName}/image/upload`,\n                formData,\n                {\n                    headers: {\n                        \"Content-Type\": \"multipart/form-data\"\n                    }, withCredentials: false,\n                })\n            console.log(profileImg, 'profile response')\n            const profileUrl = profileImg.data.secure_url\n            console.log(profileUrl, 'profileUrl')\n            const details = {\n                id: user.details._id,\n                name,\n                profileUrl\n            }\n            const { data } = await editUser(details)\n            console.log(data)\n        }else{\n            const details = {\n                id: user.details._id,\n                name,\n                profileUrl:''\n            }\n            const { data } = await editUser(details)\n            console.log(data)\n        }\n        setOpen(false)\n        dispatch({type:'refresh'})\n        close()\n\n    }\n    return (\n        <AnimatePresence>\n            <BackdropLoader openLoader={open} />\n            <motion.div\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 2 }}\n                exit={{ opacity: 2 }}\n                className='fixed w-full min-h-screen z-10 insert-0  flex justify-center backdrop-blur-sm bg-opacity-50 items-center'>\n                <div className=\" bg-white w-2/4 p-20 border shadow-lg rounded-xl\">\n                    <div className=\"\">\n                        <div className=\" flex justify-end \">\n                            <button onClick={close} className='text-3xl border bg-slate-600 text-white px-2 rounded-full'>X</button>\n                        </div>\n                        <form onSubmit={UploadData} className='flex flex-col gap-3'>\n                            <label className='font-bold text-2xl' htmlFor=\"\">Change Profile</label>\n                            <input className='' hidden type=\"file\" id='fileInput' onChange={(e) => setProfile(e.target.files[0])} ref={fileInputRef} accept='image/*' />\n                            <div className=\"flex justify-center rounded-full overflow-hidden\" onClick={handleImageChange}>\n                                <img src={user.details.profile} alt=\"image\" />\n                            </div>\n                            <label className='font-bold text-2xl' htmlFor=\"\">Name</label>\n                            <input className='border rounded-md pt-2 pl-2' type=\"text\" value={name} onChange={(e) => setName(e.target.value)} />\n                            <button type='submit' className='border bg-red-500 py-2 rounded-md text-white font-bold text-xl'>EDIT</button>\n                        </form>\n                    </div>\n                </div>\n            </motion.div>\n        </AnimatePresence>\n    )\n}\n\nexport default EditProfileModal"],"names":["_ref","user","close","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","open","setOpen","_useState3","details","name","_useState4","setName","_useState5","_useState6","profile","setProfile","fileInputRef","useRef","cloudName","process","useEffect","document","addEventListener","handleKeyPress","e","key","UploadData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","file","formData","profileImg","profileUrl","_yield$editUser","data","_details","_yield$editUser2","_data","wrap","_context","prev","next","preventDefault","FormData","append","axios","post","concat","headers","withCredentials","sent","console","log","secure_url","id","_id","editUser","type","stop","_x","apply","arguments","_jsxs","AnimatePresence","children","_jsx","BackdropLoader","openLoader","motion","div","initial","opacity","animate","exit","className","onClick","onSubmit","htmlFor","hidden","onChange","target","files","ref","accept","current","click","src","alt","value"],"sourceRoot":""}